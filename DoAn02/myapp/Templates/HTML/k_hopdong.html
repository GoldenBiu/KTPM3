{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'CSS/k_hopdong.css' %}">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <title>Qu·∫£n L√Ω Ph√≤ng</title>
</head>
<body>
    <div class="nav">
        <a href="{% url 'trang_chu_khach_hang' %}">Trang Ch·ªß</a>
        <a href="{% url 'k_hoa_don' %}">H√≥a ƒê∆°n</a>
        <a href="{% url 'hop_dong' %}">H·ª£p ƒê·ªìng</a>
        <a href="{% url 'lien_he' %}">Li√™n H·ªá</a>   
        <a href="{% url 'thong_tin' %}"><i class="fa-solid fa-user"></i></a>
    </div>
    <button class="btn-success no-print" onclick="window.print()">In H·ª£p ƒê·ªìng</button>
    <div class="background-section"></div>

    <br><br><br><br><br>

    <!-- N·ªôi dung ch√≠nh -->
    <div class="content flex-grow-1 p-4">
      

        <div class="contract-form">
            <div class="topbar d-flex justify-content-between align-items-center mb-4">
                <h5 class="title">H·ª£p ƒê·ªìng</h5>
            </div>
            <!-- Th√¥ng tin b√™n A -->
            <h3 class="tieude"><span class="green-circle">üü¢</span> Th√¥ng tin qu·∫£n l√Ω:</h3>
            {% if quan_li %}
                <div class="form-group name-phone-group">
                    <div>
                        <label for="manager-name">H·ªç t√™n qu·∫£n l√Ω *</label>
                        <input type="text" id="manager-name" name="manager-name" value="{{ quan_li.HoTenQuanLi }}" disabled>
                    </div>
                    <div>
                        <label for="manager-phone">S·ªë ƒëi·ªán tho·∫°i *</label>
                        <input type="tel" id="manager-phone" name="manager-phone" value="{{ quan_li.SoDienThoaiDN }}" disabled>
                    </div>
                </div>
                <div class="form-group">
                    <label for="manager-id-number">CMND/CCCD</label>
                    <input type="text" id="manager-id-number" name="manager-id-number" value="{{ quan_li.SoCCCD|default:'Ch∆∞a cung c·∫•p' }}" disabled>
                </div>
                <div class="form-group date-group">
                    <div>
                        <label for="manager-birthdate">Ng√†y sinh</label>
                        <input type="date" id="manager-birthdate" name="manager-birthdate" value="{{ quan_li.NgaySinh|date:'Y-m-d'|default:'' }}" disabled>
                    </div>
                    <div>
                        <label for="manager-gender">Gi·ªõi t√≠nh</label>
                        <select id="manager-gender" name="manager-gender" disabled>
                            <option value="Nam" {% if quan_li.GioiTinh == "Nam" %}selected{% endif %}>Nam</option>
                            <option value="N·ªØ" {% if quan_li.GioiTinh == "N·ªØ" %}selected{% endif %}>N·ªØ</option>
                        </select>
                    </div>
                </div>
                <div class="form-group address-group">
                    <div>
                        <label for="manager-city">T·ªânh/Th√†nh ph·ªë</label>
                        <select id="manager-city" name="manager-city" disabled>
                            <option value="{{ quan_li.ThanhPho|default:'Ch∆∞a cung c·∫•p' }}" selected>{{ quan_li.ThanhPho|default:'Ch∆∞a cung c·∫•p' }}</option>
                        </select>
                    </div>
                    <div>
                        <label for="manager-district">Qu·∫≠n/Huy·ªán</label>
                        <select id="manager-district" name="manager-district" disabled>
                            <option value="{{ quan_li.Quan|default:'Ch∆∞a cung c·∫•p' }}" selected>{{ quan_li.Quan|default:'Ch∆∞a cung c·∫•p' }}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="manager-ward">Ph∆∞·ªùng/X√£</label>
                    <select id="manager-ward" name="manager-ward" disabled>
                        <option value="{{ quan_li.Phuong|default:'Ch∆∞a cung c·∫•p' }}" selected>{{ quan_li.Phuong|default:'Ch∆∞a cung c·∫•p' }}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="manager-address">ƒê·ªãa ch·ªâ chi ti·∫øt</label>
                    <input type="text" id="manager-address" name="manager-address" value="{{ quan_li.DiaChiChiTiet|default:'Ch∆∞a cung c·∫•p' }}" disabled>
                </div>
            {% else %}
                <p>Ch∆∞a c√≥ th√¥ng tin qu·∫£n l√Ω ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh.</p>
            {% endif %}
            <!-- Th√¥ng tin kh√°ch thu√™ (B√™n B) -->
            <h3 class="tieude"><span class="green-circle">üü¢</span> Th√¥ng tin kh√°ch thu√™ (Th√¥ng tin b√™n B):</h3>

            <div class="form-group name-phone-group">
                <div>
                    <label for="tenant-name">T√™n ng∆∞·ªùi ƒë·∫°i di·ªán *</label>
                    <input type="text" id="tenant-name" name="tenant-name" value="{{ khach_hang.HoTenKhachHang }}" disabled>
                </div>
                <div>
                    <label for="tenant-phone">S·ªë ƒëi·ªán tho·∫°i ng∆∞·ªùi ƒë·∫°i di·ªán *</label>
                    <input type="tel" id="tenant-phone" name="tenant-phone" value="{{ khach_hang.SoDienThoai }}" disabled>
                </div>
            </div>

            <div class="form-group">
                <label for="id-number">CMND/CCCD</label>
                <input type="text" id="id-number" name="id-number" value="{{ khach_hang.SoCCCD }}" disabled>
            </div>

            <div class="form-group date-group">
                <div>
                    <label for="birthdate">Ng√†y sinh</label>
                    <input type="date" id="birthdate" name="birthdate" value="{{ khach_hang.NgaySinh|date:'Y-m-d' }}" disabled>
                </div>
                <div>
                    <label for="gender">Gi·ªõi t√≠nh *</label>
                    <select id="gender" name="gender" disabled>
                        <option value="Nam" {% if khach_hang.GioiTinh == "Nam" %}selected{% endif %}>Nam</option>
                        <option value="N·ªØ" {% if khach_hang.GioiTinh == "N·ªØ" %}selected{% endif %}>N·ªØ</option>
                    </select>
                </div>
            </div>

            <div class="form-group address-group">
                <div>
                    <label for="city">T·ªânh/Th√†nh ph·ªë</label>
                    <select id="city" name="city" disabled>
                        <option value="{{ khach_hang.TinhThanh }}" selected>{{ khach_hang.TinhThanh }}</option>
                    </select>
                </div>
                <div>
                    <label for="district">Qu·∫≠n/Huy·ªán</label>
                    <select id="district" name="district" disabled>
                        <option value="{{ khach_hang.QuanHuyen }}" selected>{{ khach_hang.QuanHuyen }}</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="ward">Ph∆∞·ªùng/X√£</label>
                <select id="ward" name="ward" disabled>
                    <option value="{{ khach_hang.PhuongXa }}" selected>{{ khach_hang.PhuongXa }}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="address">ƒê·ªãa ch·ªâ chi ti·∫øt</label>
                <input type="text" id="address" name="address" value="{{ khach_hang.DiaChiCuThe }}" disabled>
            </div>

            <div class="form-group">
                <label for="occupation">C√¥ng vi·ªác</label>
                <input type="text" id="occupation" name="occupation" value="{{ khach_hang.CongViec }}" disabled>
            </div>

            <div class="form-group date-group">
                <div>
                    <label for="id-issue-date">Ng√†y c·∫•p CMND/CCCD</label>
                    <input type="date" id="id-issue-date" name="id-issue-date" value="{{ khach_hang.NgayCapCCCD|date:'Y-m-d' }}" disabled>
                </div>
                <div>
                    <label for="id-issue-place">N∆°i c·∫•p CMND/CCCD</label>
                    <input type="text" id="id-issue-place" name="id-issue-place" value="{{ khach_hang.NoiCapCCCD }}" disabled>
                </div>
            </div>

            <div class="form-group image-upload-group">
                <div class="image-upload">
                    <label class="upload-label">·∫¢nh m·∫∑t tr∆∞·ªõc CMND/CCCD</label>
                    <img src="{{ khach_hang.CCCDMT.url }}" alt="·∫¢nh m·∫∑t tr∆∞·ªõc" style="max-width: 200px;">
                </div>
                <div class="image-upload">
                    <label class="upload-label">·∫¢nh m·∫∑t sau CMND/CCCD</label>
                    <img src="{{ khach_hang.CCCDMS.url }}" alt="·∫¢nh m·∫∑t sau" style="max-width: 200px;">
                </div>
            </div>

            <!-- Th·ªùi h·∫°n h·ª£p ƒë·ªìng -->
            <h3 class="tieude"><span class="green-circle">üü¢</span> Th·ªùi h·∫°n h·ª£p ƒë·ªìng:</h3>
            <div class="form-group">
                <label for="contract-duration">Th·ªùi h·∫°n h·ª£p ƒë·ªìng</label>
                <select id="contract-duration" name="contract-duration" disabled>
                    <option value="{{ hop_dong.ThoiHanHopDong }}" selected>{{ hop_dong.ThoiHanHopDong }}</option>
                </select>
            </div>

              
           <!-- D√£y, Ph√≤ng, Di·ªán T√≠ch -->
           <div class="form-group address-group">
            <div>
                <label for="district1" class="day">D√£y</label>
                <select id="district1" name="district1" disabled>
                    <option value="{{ phong.DayPhong }}" selected>{{ phong.DayPhong }}</option>
                </select>
            </div>
            <div>
                <label for="district2" class="day">Ph√≤ng</label>
                <select id="district2" name="district2" disabled>
                    <option value="{{ phong.SoPhong }}" selected>{{ phong.SoPhong }}</option>
                </select>
            </div>
            <div>
                <label for="area" class="day">Di·ªán T√≠ch</label>
                <select id="area" name="area" disabled>
                    <option value="20m2" selected>20 m¬≤</option>
                    <option value="25m2">25 m¬≤</option>
                    <option value="30m2">30 m¬≤</option>
                </select>
            </div>
        </div>

      <!-- ... C√°c ph·∫ßn kh√°c gi·ªØ nguy√™n ... -->
    <div class="form-right">
        <div class="amenities">
            <label class="day">Ti·ªán √≠ch:</label>
            <div class="amenities-container">
                <div class="amenities-left">
                    <input type="checkbox" id="aircon" name="amenities" value="aircon" disabled>
                    <label for="aircon">M√°y l·∫°nh</label><br>
                    <input type="checkbox" id="waterheater" name="amenities" value="waterheater" disabled>
                    <label for="waterheater">M√°y n∆∞·ªõc n√≥ng</label><br>
                    <input type="checkbox" id="computer" name="amenities" value="computer" disabled>
                    <label for="computer">M√°y gi·∫∑t</label>
                </div>
                <div class="amenities-right">
                    <input type="checkbox" id="wifi" name="amenities" value="wifi" disabled>
                    <label for="wifi">Wifi</label><br>
                    <input type="checkbox" id="cooler" name="amenities" value="cooler" checked disabled>
                    <label for="cooler">T·ªß l·∫°nh</label>
                </div>
            </div>
        </div>
    </div>
    


            <div class="form-group date-group">
                <div>
                    <label for="start-date">Ng√†y v√†o ·ªü *</label>
                    <input type="date" id="start-date" name="start-date" value="{{ hop_dong.NgayBatDau|date:'Y-m-d' }}" disabled>
                </div>
                <div>
                    <label for="end-date">K·∫øt th√∫c h·ª£p ƒë·ªìng</label>
                    <input type="date" id="end-date" name="end-date" value="{{ hop_dong.NgayKetThuc|date:'Y-m-d' }}" disabled>
                </div>
            </div>

            <!-- Ti·ªÅn ph√≤ng/c·ªçc ph√≤ng -->
            <h3 class="tieude"><span class="green-circle">üü¢</span> Ti·ªÅn ph√≤ng/c·ªçc ph√≤ng</h3>
            <div class="form-group name-phone-group">
                <div>
                    <label for="room-price">S·ªë ti·ªÅn ph√≤ng *</label>
                    <input type="text" id="room-price" name="room-price" value="{{ phong.GiaPhong }}" disabled>
                </div>
                <div>
                    <label for="deposit">S·ªë ti·ªÅn c·ªçc *</label>
                    <input type="text" id="deposit" name="deposit" value="{{ hop_dong.TienDatCoc }}" disabled>
                </div>
            </div>

            <!-- Chu k·ª≥ thu ti·ªÅn -->
            <h3 class="tieude"><span class="green-circle">üü¢</span> Chu k·ª≥ thu ti·ªÅn</h3>
            <div class="form-group">
                <label for="payment-cycle">Chu k·ª≥ thu ti·ªÅn</label>
                <select id="payment-cycle" name="payment-cycle" disabled>
                    <option value="{{ hop_dong.ChuKy }}" selected>{{ hop_dong.ChuKy }}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="contract-note">Ghi ch√∫ *</label>
                <input type="text" id="contract-note" name="contract-note" value="{{ hop_dong.GhiChuHopDong }}" disabled>
            </div>

            <!-- ƒêi·ªÅu kho·∫£n h·ª£p ƒë·ªìng -->
            <div class="section">
                <label>Sau khi b√†n b·∫°c k·ªπ l∆∞·ª°ng, hai b√™n c√πng th·ªëng nh·∫•t n·ªôi dung sau:</label>
            </div>

            <div class="section">
                <label>B√™n A ƒë·ªìng √Ω cho b√™n B thu√™ 01 ph√≤ng ·ªü t·∫°i ƒë·ªãa ch·ªâ:</label>
                <input type="text" name="room_address" value="{{quan_li.DiaChiChiTiet}},{{quan_li.Phuong}},{{quan_li.Quan}},{{quan_li.ThanhPho}}" disabled>
            </div>

            <div class="section terms">
                <ul>
                    <li>Thanh to√°n ƒë·∫ßy ƒë·ªß ti·ªÅn theo ƒë√∫ng th·ªèa thu·∫≠n.</li>
                    <li>B·∫£o qu·∫£n c√°c trang thi·∫øt b·ªã v√† c√≥ s·ªë v·∫≠t ch·∫•t c·ªßa b√™n A trong khi cho b·∫°n ƒë·∫ßu (l√†m h·ªèng ph·∫£i s·ª≠a, m·∫•t ph·∫£i ƒë·ªÅn).</li>
                    <li>Kh√¥ng ƒë∆∞·ª£c t·ª± √Ω s·ª≠a ch·ªØa, c·∫£i t·∫°o c∆° s·ªü v·∫≠t ch·∫•t khi ch∆∞a ƒë∆∞·ª£c s·ª± ƒë·ªìng √Ω c·ªßa b√™n A.</li>
                    <li>Lu√¥n c√≥ √Ω th·ª©c gi·ªØ g√¨n v·ªá sinh trong v√† ngo√†i khu v·ª±c ph√≤ng tr·ªç.</li>
                    <li>B√™n B ph·∫£i ch·∫•p h√†nh m·ªçi quy ƒë·ªãnh c·ªßa ph√°p lu·∫≠t Nh√† n∆∞·ªõc v√† quy ƒë·ªãnh c·ªßa ƒë·ªãa ph∆∞∆°ng.</li>
                    <li>N·∫øu b√™n B cho kh√°ch ·ªü qua ƒë√™m th√¨ ph·∫£i b√°o tr∆∞·ªõc v√† ƒë∆∞·ª£c s·ª± ƒë·ªìng √Ω c·ªßa b√™n A, ƒë·ªìng th·ªùi ph·∫£i ch·ªãu tr√°ch nhi·ªám v·ªÅ c√°c h√†nh vi vi ph·∫°m ph√°p lu·∫≠t c·ªßa kh√°ch trong th·ªùi gian ·ªü l·∫°i (n·∫øu c√≥).</li>
                </ul>
            </div>

            <div class="section">
                <h3>TR√ÅCH NHI·ªÜM CHUNG</h3>
                <ul>
                    <li>Hai b√™n ph·∫£i t·∫°o ƒëi·ªÅu ki·ªán thu·∫≠n l·ª£i cho nhau ƒë·ªÉ th·ª±c hi·ªán h·ª£p ƒë·ªìng.</li>
                    <li>N·∫øu m·ªôt trong hai b√™n vi ph·∫°m h·ª£p ƒë·ªìng trong th·ªùi gian h·ª£p ƒë·ªìng v·∫´n c√≤n hi·ªáu l·ª±c th√¨ b√™n c√≤n l·∫°i c√≥ quy·ªÅn ƒë∆°n ph∆∞∆°ng ch·∫•m d·ª©t h·ª£p ƒë·ªìng thu√™ nh√† tr·ªç. Ngo√†i ra, n·∫øu h√†nh vi vi ph·∫°m ƒë√≥ g√¢y t·ªïn th·∫•t cho b√™n b·ªã vi ph·∫°m th√¨ b√™n vi ph·∫°m s·∫Ω ph·∫£i b·ªìi th∆∞·ªùng m·ªçi thi·ªát h·∫°i g√¢y ra.</li>
                    <li>Trong tr∆∞·ªùng h·ª£p mu·ªën ch·∫•m d·ª©t h·ª£p ƒë·ªìng tr∆∞·ªõc th·ªùi h·∫°n, c·∫ßn ph·∫£i b√°o tr∆∞·ªõc cho b√™n kia √≠t nh·∫•t 30 ng√†y v√† hai b√™n ph·∫£i c√≥ s·ª± th·ªëng nh·∫•t v·ªõi nhau.</li>
                    <li>K·∫øt th√∫c h·ª£p ƒë·ªìng, B√™n A ph·∫£i tr·∫£ l·∫°i ƒë·∫ßy ƒë·ªß ti·ªÅn ƒë·∫∑t c·ªçc cho b√™n B.</li>
                    <li>B√™n n√†o vi ph·∫°m c√°c ƒëi·ªÅu kho·∫£n chung th√¨ ph·∫£i ch·ªãu tr√°ch nhi·ªám tr∆∞·ªõc ph√°p lu·∫≠t.</li>
                    <li>H·ª£p ƒë·ªìng n√†y ƒë∆∞·ª£c l·∫≠p th√†nh 02 b·∫£n v√† c√≥ gi√° tr·ªã ph√°p l√Ω nh∆∞ nhau, m·ªói b√™n gi·ªØ m·ªôt b·∫£n.</li>
                </ul>
            </div>

            <!-- Ph·∫ßn k√Ω x√°c nh·∫≠n -->
            <div class="signature-section">
                <div class="signature">
                    <h4>ƒê·∫†I DI·ªÜN B√äN A</h4>
                    <p>(K√Ω v√† ghi h·ªç t√™n)</p>
                    <textarea name="partyA_signature" disabled>{{ khach_hang.HoTenKhachHang }}</textarea>
                </div>
                <div class="signature">
                    <h4>ƒê·∫†I DI·ªÜN B√äN B</h4>
                    <p>(K√Ω v√† ghi h·ªç t√™n)</p>
                    <textarea name="partyB_signature" disabled>{{ quan_li.HoTenQuanLi }}</textarea>
                </div>
            </div>
        </div>
    </div>

</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const airconCheckbox = document.getElementById("aircon");
        const waterheaterCheckbox = document.getElementById("waterheater");
        const computerCheckbox = document.getElementById("computer");
        const wifiCheckbox = document.getElementById("wifi");
        const coolerCheckbox = document.getElementById("cooler");

        airconCheckbox.checked = true;
        coolerCheckbox.checked = true;
        waterheaterCheckbox.checked = false;
        computerCheckbox.checked = false;
        wifiCheckbox.checked = false;

        airconCheckbox.disabled = true;
        waterheaterCheckbox.disabled = true;
        computerCheckbox.disabled = true;
        wifiCheckbox.disabled = true;
        coolerCheckbox.disabled = true;
    });
    </script>
</html>